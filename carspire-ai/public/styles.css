/* === Carspire Neon Ambient V2 === */
:root{
  --bg1:#03121a; --bg2:#021924; --bg3:#001019;
  --panel:rgba(10,18,26,.72);
  --text:#eaf6ff; --muted:#88a4b7;
  --line:rgba(34,193,255,.20);
  --glow:0 0 30px rgba(34,193,255,.45);
  --radius:18px;
}

/* cinematic ambient gradient (moves slowly) */
html,body{height:100%}
body{
  margin:0;
  color:var(--text);
  font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;
  background:
    radial-gradient(1200px 700px at 15% 10%, rgba(0,180,255,.18), transparent 65%),
    radial-gradient(900px 600px at 90% 80%, rgba(0,120,255,.14), transparent 60%),
    linear-gradient(135deg,var(--bg1),var(--bg2) 40%,var(--bg3));
  background-size: 140% 140%;
  animation: bg-pan 20s ease-in-out infinite;
  overflow-x:hidden;
}
@keyframes bg-pan{
  0%{background-position: 0% 30%}
  50%{background-position: 100% 70%}
  100%{background-position: 0% 30%}
}

/* floating spotlight blobs (pure CSS) */
body::before, body::after{
  content:"";
  position:fixed; inset:-20%;
  background:
    radial-gradient(600px 400px at 20% 30%, rgba(0,255,255,.06), transparent 60%),
    radial-gradient(800px 500px at 80% 70%, rgba(0,120,255,.05), transparent 60%);
  animation: float-blobs 30s linear infinite alternate;
  pointer-events:none; z-index:0;
}
body::after{ animation-duration: 38s; mix-blend-mode: screen; opacity:.7 }
@keyframes float-blobs{
  0%{ transform: translate(0,0) scale(1) }
  50%{ transform: translate(3%,2%) scale(1.05) }
  100%{ transform: translate(0,0) scale(1) }
}

/* subtle scanlines + vignette for “HUD” feel */
.fx-vignette{
  position:fixed; inset:0; z-index:0; pointer-events:none;
  background:
    radial-gradient(ellipse at center, transparent 40%, rgba(0,0,0,.22) 85%);
}
.fx-scan{
  position:fixed; inset:0; z-index:0; pointer-events:none;
  background: repeating-linear-gradient(
    to bottom,
    rgba(255,255,255,.035) 0px,
    rgba(255,255,255,.035) 1px,
    transparent 3px,
    transparent 5px
  );
  animation: scan-flicker 2.8s linear infinite;
  mix-blend-mode: overlay;
}
@keyframes scan-flicker{
  0%,100%{opacity:.15}
  50%{opacity:.22}
}

/* background particle canvas sits behind all content */
.bg-canvas{ position:fixed; inset:0; z-index:0; pointer-events:none; }

/* --- UI LAYOUT --- */
.topbar{
  position:sticky; top:0; z-index:5;
  display:flex; align-items:center; gap:14px;
  padding:18px 24px;
  background:rgba(5,12,18,.55);
  backdrop-filter: blur(10px);
  border-bottom:1px solid var(--line);
  box-shadow: 0 8px 30px rgba(0,0,0,.35);
}
.logo{ width:48px; height:48px; border-radius:14px; box-shadow: var(--glow) }
.brand{ margin:0; font-weight:800; letter-spacing:.7px; color:#bde6ff }

.container{ max-width:1100px; margin:28px auto 80px; padding:0 24px; position:relative; z-index:1; }

/* glass chat panel with animated border shimmer */
.chat{
  display:flex; flex-direction:column; gap:12px;
  min-height:240px; padding:18px;
  background: var(--panel);
  border:1px solid var(--line);
  border-radius: var(--radius);
  box-shadow: 0 20px 60px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.02);
  position:relative;
}
.chat::after{
  content:""; position:absolute; inset:0; border-radius:inherit; pointer-events:none;
  background: conic-gradient(from 0deg, rgba(34,193,255,.0), rgba(34,193,255,.25), rgba(34,193,255,.0));
  mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  mask-composite: exclude; -webkit-mask-composite: xor;
  padding:1px;
  filter: blur(6px);
  animation: border-sheen 6s linear infinite;
  opacity:.55;
}
@keyframes border-sheen { to { transform: rotate(1turn); } }

.msg{
  padding:12px 14px; max-width:85%;
  border-radius:14px; line-height:1.45;
  transform: translateY(8px); opacity:0;
  animation: pop .35s ease forwards;
}
@keyframes pop{ to{ transform:none; opacity:1 } }
.user{ align-self:flex-end; background:rgba(16,46,66,.9); border:1px solid rgba(34,193,255,.28); box-shadow: 0 6px 20px rgba(34,193,255,.18)}
.bot{  align-self:flex-start; background:rgba(7,12,18,.86);  border:1px solid rgba(255,255,255,.06); box-shadow: 0 6px 20px rgba(0,0,0,.35)}

.bar{ display:grid; grid-template-columns:1fr auto; gap:12px; margin-top:14px }
#prompt{
  padding:16px 18px; border-radius:999px;
  background:rgba(6,14,20,.78); color:var(--text);
  border:1px solid var(--line); outline:none;
  transition: box-shadow .2s,border-color .2s, transform .15s;
}
#prompt:focus{
  border-color: rgba(34,193,255,.45);
  box-shadow: 0 0 0 3px rgba(34,193,255,.16), inset 0 0 18px rgba(34,193,255,.08);
  transform: translateY(-1px);
}
button{
  padding:12px 22px; border:none; border-radius:999px; cursor:pointer;
  background: linear-gradient(180deg,#46d0ff,#12b6e8);
  color:#051b26; font-weight:800; letter-spacing:.2px;
  box-shadow: var(--glow); transition: transform .15s, box-shadow .25s, filter .25s;
}
button:hover{ transform: translateY(-2px); box-shadow: 0 0 36px rgba(34,193,255,.7) }
button:active{ transform: translateY(0) scale(.99); filter: saturate(1.2) }
button[disabled]{ opacity:.6; cursor:not-allowed; box-shadow:none }

.chips{ display:flex; flex-wrap:wrap; gap:10px; margin:12px 2px 0 }
.chip{
  padding:8px 12px; border-radius:999px; font-size:13px; color:#bfe9ff;
  background: rgba(10,26,36,.6); border:1px solid rgba(34,193,255,.22);
  backdrop-filter: blur(6px);
  transition: transform .15s, box-shadow .25s;
}
.chip:hover{ transform: translateY(-2px); box-shadow: 0 8px 22px rgba(34,193,255,.25) }

.hint{ color:var(--muted); font-size:13px; margin-top:8px; text-shadow:0 0 6px rgba(34,193,255,.25) }
footer{ margin-top:24px; text-align:center; color:#8fb4c9; font-size:12px; opacity:.85 }

/* background layers order */
.topbar, .container{ z-index:2 }
